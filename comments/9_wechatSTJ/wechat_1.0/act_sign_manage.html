<!DOCTYPE html>
<html>
<head>
	<title>活动签到-社团管理-社团+</title>
     <!--取消缓存，正式产品删除--> 
     
    <meta http-equiv="Pragma" contect="no-cache">
	<meta charset="utf-8">
	<meta name="format-detection" content="telephone=no">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
    <preference name="KeyboardDisplayRequiresUserAction" value="false"/>
    <link rel="stylesheet" type="text/css" href="css/main_manage.css"> 

</head>
<body id="act-sign-mod">
  <div class="mod-act-sign-manage">
    <div class="tip-no">
       <p>签到码错误!</p>
    </div>
    <div class="tip-ok">
       <p>签到成功！</p>
    </div>
    <div class="act-sign">
      <h3>活动签到</h3>
      <p class="act-name">纯CSS实现圆角框是一件大家都说烂了的事件，我也写过两。</p>
      <div class="sign-input">
         <input id="inputcaptcha" type="tel"  size="4"  unselectable="on" maxlength="4" />
         <p class="input-tip">请输入验证码：</p>
         <div id="captcha" class="captcha-input">
           <i></i>
           <i></i>
           <i></i>
           <i></i> 
         </div>
      </div>
    </div>
    <p class="sign-number">已签到<span>1</span>人：</p>
    <div class="act-sign-list">
       <table >
         <tbody id="tablelist">
         <tr >
           <td>余文豪</td><td>高三二班</td><td>12345678901</td>
         </tr>
         </tbody>
       </table>
    </div>
  <!--script src="js/main_manage.js"></script-->
  <script src="js/jquery.min.js"></script>
  <script>
     var input=$("#inputcaptcha");
	 var showbox=$("#captcha i");
	 var word=showbox.val();
	 var clickTimes=0;
	 var choseTxt="";
	 $("#tablelist tr").eq(0).addClass("first");
	 input.click(function(){
		 if(clickTimes==0)
		 {
		   showbox.eq(clickTimes).addClass("ifocus");
		   input.focus();
		 }
	  });
	 input.keyup(function(event){
		 var word=input.val();
		 if(word.length>0)
		 {
		   showbox.eq(clickTimes).removeClass("ifocus");       
		   var currKeyN=word.charAt(clickTimes);
		   showbox.eq(clickTimes).html(currKeyN);
		   showbox.eq(clickTimes+1).addClass("ifocus");
		   clickTimes++; 
		   if(clickTimes==4 )
		   {
			 showbox.eq(clickTimes-1).removeClass("ifocus");
			 if(word.match("1234"))
			 {
				 /*alert("签到成功")**;*/
				 $(".tip-ok").css("display","block");
				 setTimeout(function(){
					  $(".tip-ok").css("display","none");}
					  ,400);
				 $("#tablelist").prepend("<tr><td>余文1豪</td><td>高三1二班</td><td>12345678901</td></tr>");
				 <!--$("<tr><td>余文1豪</td><td>高三1二班</td><td>12345678901</td></tr>").insertBefore("tr");--
				 $("#tablelist tr").eq(0).addClass("first");
				 $("#tablelist tr").eq(1).removeClass("first");
				 $(".sign-number span").html($("#tablelist tr").length);
			 }
			 else
			 {
				 /*alert("验证码错误");*/
				 $(".tip-no").css("display","block");
				 for(var i=0 ;i<4;i++)
				 {
					 showbox.eq(i).addClass("false");
				 }
				 setTimeout(function(){
				 for(var i=0 ;i<4;i++)
				 {
					  showbox.eq(i).removeClass("false");
					   
				 }
				 $(".tip-no").css("display","none");
			 },1000);  
				 
					 
			 }
			 /*输入四个数字初始化*/
			 setTimeout(function(){
				 clickTimes=0;
				 showbox.eq(clickTimes).addClass("ifocus");
				 input.val("");
				 for(var i=0 ;i<4;i++)
				{
					 showbox.eq(i).html("");
				} 
			  },500);
			   
		   }
		 }
	 })
	
  </script>
</body>
</html>